---
name: 留言 Markdown 格式規範模板
description: GitHub 議題留言中的 Markdown 格式標準與注意事項
---

# 議題留言 Markdown 格式規範

## 目的

本模板定義在 GitHub 議題的留言中建立或更新內容時的 Markdown 格式標準，確保所有留言能正確渲染、易於閱讀與追蹤。

---

## Markdown 格式檢查清單

在建立或更新留言之前，務必逐一檢查以下 6 項：

### 1. 程式碼區塊

**正確做法**：使用語言標籤（bash、javascript、python 等）

```bash
npm test -- --testNamePattern="test name"
```

```javascript
const result = await executeTest({ testId: 'T-101' });
```

**常見錯誤**：
- 無語言標籤的程式碼區塊
- 程式碼區塊內包含未跳脫的反引號

---

### 2. 跳脫字元

**正確做法**：文本中的程式碼或變數使用反引號包覆

- 執行 `npm test` 命令
- 取得 `REQ_COUNTER` 環境變數
- 檢查 `Test ID` 與 `Scenario ID`

**常見錯誤**：
- 直接出現未跳脫的反引號
- 過度跳脫

---

### 3. 待辦清單

**正確做法**：使用 `- [ ]` 或 `- [x]` 格式，中間必須有空格

- [ ] 第一項待辦事項
- [x] 已完成的項目
- [ ] 第三項待辦事項

**常見錯誤**：
- 無空格格式：`-[ ]` 應為 `- [ ]`
- 混合符號：同時使用 `-` 和 `*`

---

### 4. 表格格式

**正確做法**：使用 `| 欄位 | 說明 |` 格式，第二列為分隔符

| 測試編號 | 情境編號 | 狀態 |
| --- | --- | --- |
| T-101 | US1-S1 | 失敗 |
| T-102 | US1-S1 | 通過 |

**常見錯誤**：
- 表格單元格包含未轉義的管道符
- 分隔符不正確

---

### 5. 標題層級

**正確做法**：主標題用 `##`，子標題用 `###`

```
## Test: T-101 - US1-S1
### Red 階段 - 2025-11-11T08:00:00Z
#### 錯誤詳情
```

**常見錯誤**：
- 使用單層 `#`（保留給 GitHub Issue 主標題）
- 層級過深或不規則

---

### 6. 列表編號

**正確做法**：統一使用 `1. 2. 3.` 自動編號格式

```
1. 第一項預期行為
2. 第二項預期行為
3. 第三項預期行為
```

**常見錯誤**：
- 混合不同編號方式
- 手動編號錯亂

---

## 實務例示

### 錯誤的留言範例

```
## Test T-101 - US1-S1

測試檔案：src/__tests__/tdd-red.test.ts

### Red 階段 - 2025-11-11T08:00:00Z

狀態：測試失敗

執行命令:
npm test -- --testNamePattern="test name"

-[ ] 項目 1
-[x] 已完成
* 混合符號
```

**問題清單**：
1. 標題沒有層級一致性
2. 狀態欄使用冒號而非粗體
3. 程式碼區塊無語言標籤
4. 待辦清單無空格
5. 混合列表符號

---

### 正確的留言範例

```
## Test: T-101 - US1-S1

**測試檔案**：`.github/__tests__/tdd-red.test.ts`

### Red 階段 - 2025-11-11T08:00:00Z

**狀態**：測試失敗

**錯誤類別**：AssertionError

**錯誤簡述**：Expected value to equal (限 120 字)

**程式碼行號**：`.github/__tests__/tdd-red.test.ts:45`

**執行命令**：

```bash
npm test -- --testNamePattern="test name"
```

**完整失敗訊息**：

```
AssertionError: Expected value to equal ...
at Test.<anonymous> (src/__tests__/tdd-red.test.ts:45:10)
```

**測試預期行為**：

1. 第一項預期行為
2. 第二項預期行為
3. 第三項預期行為

**Check List**：

- [ ] 項目 1
- [ ] 項目 2
- [ ] 項目 3（已解決）

| 欄位 | 說明 |
| --- | --- |
| 測試編號 | T-101 |
| 情境編號 | US1-S1 |
| 狀態 | 失敗 |

**改善點**：
1. 標題層級清晰
2. 欄位標籤使用粗體
3. 程式碼區塊使用語言標籤
4. 待辦清單格式正確
5. 列表統一使用 `-` 符號
6. 表格格式正確

---

## 常見 Markdown 錯誤與修復

| 錯誤描述 | 常見表現 | 修復方法 |
| --- | --- | --- |
| 反引號跳脫失敗 | 程式碼顯示為 `code` 而非格式化 | 檢查前後是否有空格，必要時使用程式碼區塊 |
| 程式碼區塊不渲染 | 程式碼顯示為純文本 | 補上語言標籤（bash、javascript 等） |
| 清單縮排錯誤 | 子項目與主項目同層級 | 使用 2-4 個空格進行縮排 |
| 表格分隔符錯誤 | 表格列數不一致 | 檢查管道符位置是否等距 |
| 標題層級混亂 | 層級跳躍或過深 | 按層級遞增使用 `##`、`###` |
| 列表編號亂序 | 編號不連續 | 統一使用 `1. 2. 3.` 讓 GitHub 自動調整 |
